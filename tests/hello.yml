in_source: |-
  mv r0 name
  call print
  hlt

  # r0 - str pointer
  print:
      mv ar r0
      ld r2 ar
      add ar 1
      print_while:
          cmp r2 0
          jz print_end
          ld r1 ar
          out r1 0
          sub r2 1
          add ar 1
          jmp print_while
      print_end:
          ret

  name: "Hello world!"

in_stdin: |

out_code: |-
  [{"opcode": 16, "r1": 0, "r2": 15, "data": 14, "label": "name"},
   {"opcode": 2, "r1": null, "r2": 15, "data": 3, "label": "print"},
   {"opcode": 1, "r1": null, "r2": null, "data": 0, "label": null},
   {"opcode": 16, "r1": 11, "r2": 0, "data": 0, "label": null},
   {"opcode": 11, "r1": 2, "r2": 11, "data": 0, "label": null},
   {"opcode": 17, "r1": 11, "r2": 15, "data": 1, "label": null},
   {"opcode": 4, "r1": 2, "r2": 15, "data": 0, "label": null},
   {"opcode": 6, "r1": null, "r2": 15, "data": 13, "label": "print_end"},
   {"opcode": 11, "r1": 1, "r2": 11, "data": 0, "label": null},
   {"opcode": 15, "r1": 1, "r2": 15, "data": 0, "label": null},
   {"opcode": 18, "r1": 2, "r2": 15, "data": 1, "label": null},
   {"opcode": 17, "r1": 11, "r2": 15, "data": 1, "label": null},
   {"opcode": 5, "r1": null, "r2": 15, "data": 6, "label": "print_while"},
   {"opcode": 3, "r1": null, "r2": null, "data": 0, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 12, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 72, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 101, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 108, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 108, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 111, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 32, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 119, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 111, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 114, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 108, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 100, "label": null},
   {"opcode": null, "r1": null, "r2": null, "data": 33, "label": null}]

out_stdout: |
  source LoC: 21 code instr: 27
  ============================================================
  Hello world!
  instr_counter:  92 ticks: 287

out_log: |
  [DEB] CR: None
  TICK:      0    IP:        0    SP:      127    BP:        0    Z S O: 1 0 0    ADDR:      0
  R0:        0    R1:        0    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: MV     R0     14     (name)
  TICK:      3    IP:        1    SP:      127    BP:        0    Z S O: 0 0 0    ADDR:      0
  R0:       14    R1:        0    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: CALL   -      3      (print)
  TICK:     11    IP:        3    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:      0
  R0:       14    R1:        0    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: MV     AR     R0           
  TICK:     14    IP:        4    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     14
  R0:       14    R1:        0    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: LD     R2     AR           
  TICK:     17    IP:        5    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     14
  R0:       14    R1:        0    R2:       12    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: ADD    AR     1            
  TICK:     20    IP:        6    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     15
  R0:       14    R1:        0    R2:       12    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: CMP    R2     0            
  TICK:     23    IP:        7    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     15
  R0:       14    R1:        0    R2:       12    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: JZ     -      13     (print_end)
  TICK:     26    IP:        8    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     15
  R0:       14    R1:        0    R2:       12    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: LD     R1     AR           
  TICK:     29    IP:        9    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     15
  R0:       14    R1:       72    R2:       12    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] output: '' << 'H'

  [DEB] CR: OUT    R1     0            
  TICK:     32    IP:       10    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     15
  R0:       14    R1:       72    R2:       12    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: SUB    R2     1            
  TICK:     35    IP:       11    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     15
  R0:       14    R1:       72    R2:       11    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: ADD    AR     1            
  TICK:     38    IP:       12    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     16
  R0:       14    R1:       72    R2:       11    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: JMP    -      6      (print_while)
  TICK:     41    IP:        6    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     16


  ...

  [DEB] CR: ADD    AR     1            
  TICK:    248    IP:       12    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     26
  R0:       14    R1:      100    R2:        1    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: JMP    -      6      (print_while)
  TICK:    251    IP:        6    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     26
  R0:       14    R1:      100    R2:        1    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: CMP    R2     0            
  TICK:    254    IP:        7    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     26
  R0:       14    R1:      100    R2:        1    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: JZ     -      13     (print_end)
  TICK:    257    IP:        8    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     26
  R0:       14    R1:      100    R2:        1    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: LD     R1     AR           
  TICK:    260    IP:        9    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     26
  R0:       14    R1:       33    R2:        1    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] output: 'Hello world' << '!'

  [DEB] CR: OUT    R1     0            
  TICK:    263    IP:       10    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     26
  R0:       14    R1:       33    R2:        1    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: SUB    R2     1            
  TICK:    266    IP:       11    SP:      125    BP:      125    Z S O: 1 0 0    ADDR:     26
  R0:       14    R1:       33    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: ADD    AR     1            
  TICK:    269    IP:       12    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     27
  R0:       14    R1:       33    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: JMP    -      6      (print_while)
  TICK:    272    IP:        6    SP:      125    BP:      125    Z S O: 0 0 0    ADDR:     27
  R0:       14    R1:       33    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: CMP    R2     0            
  TICK:    275    IP:        7    SP:      125    BP:      125    Z S O: 1 0 0    ADDR:     27
  R0:       14    R1:       33    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: JZ     -      13     (print_end)
  TICK:    278    IP:       13    SP:      125    BP:      125    Z S O: 1 0 0    ADDR:     27
  R0:       14    R1:       33    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [DEB] CR: RET    -      -      0     
  TICK:    285    IP:        2    SP:      127    BP:        0    Z S O: 0 0 0    ADDR:     27
  R0:       14    R1:       33    R2:        0    R3:        0    R4:        0    R5:        0
  R6:        0    R7:        0    R8:        0    R9:        0    R10:       0

  [INF] output_buffer: 'Hello world!'
